
- [x] 电脑调试时的交互界面展示：

<p align="center">
  <img src="https://zengwangfa.oss-cn-shanghai.aliyuncs.com/github/paper_hmi.gif"/>
</p>

## 串口屏通讯协议
- [x] 以下数据格式都为`16进制`
控制字格式：0xAA 0x55 0x10+数据字节(2字节)+校验字(所有字节相加后，保留最后一个字节)

- 第1字节：包头位
- 第2字节：包头位
- 第3字节：数据长度位（不包括包头、自身的数据长度位和校验位，即为0x02）
- 第4字节：功能(页面)位
- 第5字节：数据位(代表该页面/功能的相关数据)
- 第6字节：累加和校验

| 编号| 1 | 2 | 3 | 4 | 5 | 6 | 
| :---: | :---: |  :---: |  :---: | :---: |  :---: | :---: |
| 含义 | 起始位 | 起始位 | 数据长度位 | 功能(页面)位 | 数据位  |校验位  | 
| 指令 | AA  | 55  | 02  | XX | XX  | SUM | 


| 页面编号 | 页面/功能含义 |
| :---: | :---: |
| 0 | 初始化页面 |
| 1 | 调试页面 |
| 2 | 调试页面下发送当前标定的是多少页 |
| 3 | 工作页面 |
| 4 | 拓展功能选择页面 |
| 5 | 打印机页面 |
| 6 | 材料判定页面 |
| 7 | 纸币设别 |
| 8 | 校准的页面参数设定 |

## 1.主界面
主界面分为：
- 1.校准模式
- 2.工作模式
- 3.拓展功能
- 4.关于（即“！”图标）

![主界面](/docs/pictures/hmi/hmi1.png)

## 2.校准模式界面
校准模式界面功能:写入每张纸对应的电容值，一进去默认为第0张（即红色圆框中的数值0），即“短路”状态下，按下“√”图标，即写入了“短路”时的电容值`C-short`，当判断是否“短路”时，则参考`C-short`的数值来判断。


当按下“+1”按钮，则红色圆框中的数值显示为1，即第1张纸开始校准，当放入第1张纸，再按下“√”图标，则写入第1张纸对应的的电容值。
... ...以此列推。

![主界面](/docs/pictures/hmi/hmi2.png)

## 3.区间参数值界面
> 按下2.校准模式界面 当中的“齿轮”图标得以进入

根据不同的区间划分了不同的百分比，可以根据当地的实际情况，灵活分配，从30-100，以10为间隔划分区间，默认为30%。

![区间参数值界面](/docs/pictures/hmi/hmi3.png)

## 4.工作模式界面
当按下右下角的红色“按钮”时，最上方会显示当前的纸张数量，以及会显示是否短路，如果短路，则绿色字体“是否短路”右侧会显示“是”，反之，则“否”。

“锁”图标为表示锁定状态，按下“锁”图标则“解锁”，会显示一个锁打开的图标
![区间参数值界面](/docs/pictures/hmi/hmi4.png)

## 5.上限阈值界面
当按下“火箭”图标，即上限+5，按“下降”图标，则-5，上限数值为右上数值

![上限阈值界面](/docs/pictures/hmi/hmi5.png)

## 6.拓展功能界面
拓展功能界面分为：
- 1.打印机纸盒检测
- 2.材料检测
- 3.纸币检测
> 以上拓展功能都较为重复，也只是一时兴起而做的一些拓展。

![拓展功能界面](/docs/pictures/hmi/hmi6.png)

## 7.打印机纸盒检测界面
纸张自动检测并显示在界面上，当纸张数量<5时，蜂鸣器报警提示，RGB快闪。

界面中“加”、“减”图标为修改纸盒的上限数值

![打印机纸盒检测界面](/docs/pictures/hmi/hmi7.png)

## 8.材料检测界面
设定好两种材料：
- 1.KT板
- 2.纤维板

![材料检测界面](/docs/pictures/hmi/hmi8.png)

## 9.纸币检测界面
设定好纸币面额分别为：
- ￥5
- ￥10
- ￥50
- ￥100

![纸币检测界面](/docs/pictures/hmi/hmi9.png)